<%- include('partials/header', { titulo: 'Pagos' }) %>
<!-- Logo lateral (solo pantallas grandes) -->
<style>
  .logo-side {
    position: fixed;
    left: 10px;           /* Ajusta la distancia al borde izquierdo */
    top: 96px;            /* Ajusta para que no tape la navbar */
    width: 260px;         /* Tamaño del logo */
    opacity: .10;         /* Transparencia para que no moleste */
    z-index: 0;           /* Debajo del contenido */
    pointer-events: none; /* No bloquea clics del contenido */
    filter: grayscale(100%);
  }
  @media (max-width: 1399.98px) { /* Se oculta en pantallas medianas/pequeñas */
    .logo-side { display: none; }
  }
</style>

<div class="logo-side">
  <img src="/img/Logo.jpg" alt="Logo Barbería Studio 90's" style="width:100%;height:auto;">
</div>

<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Pagos</h2>
  <a href="/pagos/nuevo" class="btn btn-success">Nuevo pago</a>
</div>

<table class="table table-striped table-bordered">
  <thead class="table-dark">
    <tr>
      <th>Pago</th>
      <th>Venta</th>
      <th>Cliente</th>
      <th>Método</th>
      <th class="text-end">Monto</th>
      <th>Fecha</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% pagos.forEach(p => { %>
      <tr>
        <td><%= p.PagoID %></td>
        <td><a href="/pagos/venta/<%= p.VentaID %>"><%= p.VentaID %></a></td>
        <td><%= p.Cliente %></td>
        <td><%= p.MetodoPago %></td>
        <td class="text-end">₡<%= Number(p.Monto).toFixed(2) %></td>
        <td><%= new Date(p.FechaPago).toISOString().split('T')[0] %></td>
        <td>
          <a class="btn btn-sm btn-primary" href="/pagos/venta/<%= p.VentaID %>">Ver venta</a>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

<%- include('partials/footer') %>
